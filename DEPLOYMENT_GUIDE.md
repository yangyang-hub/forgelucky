# å¤šç½‘ç»œéƒ¨ç½²æŒ‡å—

æœ¬é¡¹ç›®ç°åœ¨æ”¯æŒåœ¨ä»¥ä¸‹ç½‘ç»œä¸Šéƒ¨ç½²å’Œè¿è¡Œï¼š
- **æœ¬åœ°é“¾** (Anvil/Hardhat) - ä»…ç”¨äºæœ¬åœ°æµ‹è¯•
- **Sonicæµ‹è¯•é“¾** - ç”¨äºæµ‹è¯•éƒ¨ç½²
- **Sonicä¸»ç½‘** - ç”¨äºç”Ÿäº§éƒ¨ç½²

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè®¾ç½®

```bash
# å®‰è£…ä¾èµ–
yarn install

# å¤åˆ¶ç¯å¢ƒå˜é‡æ–‡ä»¶
cd packages/foundry
cp .env.example .env
```

### 2. åˆ›å»ºé’±åŒ…è´¦æˆ·ï¼ˆæµ‹è¯•é“¾/ä¸»ç½‘éƒ¨ç½²éœ€è¦ï¼‰

```bash
cd packages/foundry

# ç”Ÿæˆæ–°çš„keystoreè´¦æˆ·
yarn account:generate

# æˆ–å¯¼å…¥å·²æœ‰ç§é’¥
yarn account:import
```

### 3. éƒ¨ç½²åˆçº¦

#### æœ¬åœ°éƒ¨ç½²

```bash
# å¯åŠ¨æœ¬åœ°é“¾
cd packages/foundry
yarn chain

# åœ¨æ–°ç»ˆç«¯ä¸­éƒ¨ç½²
yarn deploy:local
```

#### Sonicæµ‹è¯•é“¾éƒ¨ç½²

```bash
# ç¡®ä¿ä½ çš„è´¦æˆ·æœ‰æµ‹è¯•ä»£å¸
yarn deploy:sonic-testnet
```

#### Sonicä¸»ç½‘éƒ¨ç½²

```bash
# âš ï¸ æ³¨æ„ï¼šè¿™æ˜¯ç”Ÿäº§éƒ¨ç½²ï¼ç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿçš„ä¸»ç½‘ä»£å¸
yarn deploy:sonic-mainnet
```

### 4. å¯åŠ¨å‰ç«¯

```bash
cd packages/nextjs
npm run dev
```

## ç½‘ç»œé…ç½®

### æ”¯æŒçš„ç½‘ç»œ

| ç½‘ç»œ | Chain ID | RPC URL | ç”¨é€” |
|------|----------|---------|------|
| Local | 31337 | http://127.0.0.1:8545 | æœ¬åœ°å¼€å‘ |
| Sonic Testnet | 14601 | https://rpc.testnet.soniclabs.com | æµ‹è¯• |
| Sonic Mainnet | 146 | https://rpc.soniclabs.com | ç”Ÿäº§ |

### å‰ç«¯ç½‘ç»œåˆ‡æ¢

å‰ç«¯ç°åœ¨åŒ…å«ç½‘ç»œé€‰æ‹©å™¨ï¼Œå…è®¸ç”¨æˆ·ï¼š
- æŸ¥çœ‹å½“å‰è¿æ¥çš„ç½‘ç»œ
- åˆ‡æ¢åˆ°æ”¯æŒçš„ä»»ä½•ç½‘ç»œ
- æŸ¥çœ‹æ¯ä¸ªç½‘ç»œçš„çŠ¶æ€å’Œæè¿°

ç½‘ç»œé€‰æ‹©å™¨ä½äºé¡µé¢å¤´éƒ¨ï¼Œæ˜¾ç¤ºï¼š
- ğŸ  æœ¬åœ° - Development only
- ğŸ§ª Sonic Testnet - For testing  
- âš¡ Sonic Mainnet - Production

## éƒ¨ç½²è„šæœ¬åŠŸèƒ½

### æ™ºèƒ½éƒ¨ç½²æ£€æµ‹
- è‡ªåŠ¨æ£€æµ‹ç›®æ ‡ç½‘ç»œ
- æ ¹æ®ç½‘ç»œç±»å‹è°ƒæ•´éƒ¨ç½²å‚æ•°
- æ˜¾ç¤ºè¯¦ç»†çš„éƒ¨ç½²ä¿¡æ¯

### è‡ªåŠ¨å‰ç«¯æ›´æ–°
- éƒ¨ç½²å®Œæˆåè‡ªåŠ¨ç”ŸæˆTypeScript ABI
- æ›´æ–° `deployedContracts.ts` æ–‡ä»¶
- ç¡®ä¿å‰ç«¯ä½¿ç”¨æœ€æ–°çš„åˆçº¦åœ°å€å’ŒABI

### éƒ¨ç½²éªŒè¯
- æ˜¾ç¤ºåˆçº¦åŸºæœ¬ä¿¡æ¯
- éªŒè¯éƒ¨ç½²æˆåŠŸ
- æä¾›åŒºå—é“¾æµè§ˆå™¨é“¾æ¥ï¼ˆå¦‚é€‚ç”¨ï¼‰

## ç¯å¢ƒå˜é‡

### å¿…éœ€çš„ç¯å¢ƒå˜é‡

```bash
# packages/foundry/.env
ETH_KEYSTORE_ACCOUNT=scaffold-eth-default  # æˆ–ä½ çš„è‡ªå®šä¹‰è´¦æˆ·å
```

### å¯é€‰çš„ç¯å¢ƒå˜é‡

```bash
# å¦‚æœéœ€è¦éªŒè¯åˆçº¦
ETHERSCAN_API_KEY=your_etherscan_api_key

# å¦‚æœä½¿ç”¨Alchemy (ä¸»è¦ç”¨äºéSonicç½‘ç»œ)
ALCHEMY_API_KEY=your_alchemy_api_key
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **éƒ¨ç½²å¤±è´¥ - è´¦æˆ·ä½™é¢ä¸è¶³**
   ```bash
   # æ£€æŸ¥è´¦æˆ·ä½™é¢
   yarn account
   
   # å¯¹äºæµ‹è¯•ç½‘ï¼Œä»æ°´é¾™å¤´è·å–ä»£å¸
   # å¯¹äºä¸»ç½‘ï¼Œç¡®ä¿è´¦æˆ·æœ‰è¶³å¤Ÿçš„åŸç”Ÿä»£å¸
   ```

2. **ç½‘ç»œè¿æ¥é—®é¢˜**
   ```bash
   # æ£€æŸ¥ç½‘ç»œé…ç½®
   cat foundry.toml
   
   # æµ‹è¯•ç½‘ç»œè¿æ¥
   curl -X POST https://rpc.testnet.soniclabs.com -H "Content-Type: application/json" -d '{"jsonrpc":"2.0","method":"eth_blockNumber","params":[],"id":1}'
   ```

3. **å‰ç«¯ç½‘ç»œåˆ‡æ¢ä¸å·¥ä½œ**
   - ç¡®ä¿é’±åŒ…æ”¯æŒç›®æ ‡ç½‘ç»œ
   - æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯
   - ç¡®ä¿åˆçº¦å·²åœ¨ç›®æ ‡ç½‘ç»œä¸Šéƒ¨ç½²

### è°ƒè¯•æ¨¡å¼

å¯ç”¨è¯¦ç»†æ—¥å¿—ï¼š
```bash
DEBUG=true yarn deploy:sonic-testnet
```

## æœ€ä½³å®è·µ

### éƒ¨ç½²æµç¨‹

1. **æµ‹è¯•é¡ºåº**ï¼š
   - é¦–å…ˆåœ¨æœ¬åœ°æµ‹è¯•
   - ç„¶åéƒ¨ç½²åˆ°æµ‹è¯•ç½‘
   - æœ€åéƒ¨ç½²åˆ°ä¸»ç½‘

2. **å®‰å…¨æ£€æŸ¥**ï¼š
   - ä¸»ç½‘éƒ¨ç½²å‰ä»”ç»†æ£€æŸ¥åˆçº¦å‚æ•°
   - ç¡®è®¤éƒ¨ç½²è´¦æˆ·å®‰å…¨
   - éªŒè¯åˆçº¦æºä»£ç 

3. **ç›‘æ§**ï¼š
   - éƒ¨ç½²åç›‘æ§åˆçº¦çŠ¶æ€
   - æ£€æŸ¥åˆå§‹äº¤æ˜“
   - éªŒè¯å‰ç«¯é›†æˆ

### ç½‘ç»œç‰¹å®šæ³¨æ„äº‹é¡¹

#### Sonicç½‘ç»œ
- ä½¿ç”¨åŸç”Ÿ Sonic ä»£å¸æ”¯ä»˜gasè´¹ç”¨
- ç¡®ä¿é’±åŒ…æ­£ç¡®é…ç½®Sonicç½‘ç»œå‚æ•°
- æŸ¥çœ‹Sonicæ–‡æ¡£äº†è§£ç‰¹å®šåŠŸèƒ½

## å‘½ä»¤å‚è€ƒ

### éƒ¨ç½²å‘½ä»¤

```bash
# æŸ¥çœ‹å¸®åŠ©
yarn deploy:multi

# éƒ¨ç½²åˆ°ç‰¹å®šç½‘ç»œ
yarn deploy:local           # æœ¬åœ°é“¾
yarn deploy:sonic-testnet   # Sonicæµ‹è¯•é“¾  
yarn deploy:sonic-mainnet   # Sonicä¸»ç½‘

# ä¼ ç»Ÿéƒ¨ç½²å‘½ä»¤ï¼ˆä»ç„¶æ”¯æŒï¼‰
yarn deploy --network localhost
```

### è´¦æˆ·ç®¡ç†

```bash
yarn account:generate      # ç”Ÿæˆæ–°è´¦æˆ·
yarn account:import        # å¯¼å…¥å·²æœ‰è´¦æˆ·
yarn account              # æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯
yarn account:reveal-pk    # æ˜¾ç¤ºç§é’¥ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰
```

### å…¶ä»–æœ‰ç”¨å‘½ä»¤

```bash
yarn compile              # ç¼–è¯‘åˆçº¦
yarn test                # è¿è¡Œæµ‹è¯•
yarn chain               # å¯åŠ¨æœ¬åœ°é“¾
yarn format              # æ ¼å¼åŒ–ä»£ç 
yarn lint                # æ£€æŸ¥ä»£ç è´¨é‡
```

## è´¡çŒ®

å¦‚éœ€æ·»åŠ æ–°ç½‘ç»œæ”¯æŒï¼š

1. åœ¨ `foundry.toml` ä¸­æ·»åŠ RPCç«¯ç‚¹
2. åœ¨ `sonicChains.ts` ä¸­å®šä¹‰é“¾é…ç½®
3. æ›´æ–° `deployMultiNetwork.js` ä¸­çš„ç½‘ç»œæ˜ å°„
4. åœ¨ `scaffold.config.ts` ä¸­æ·»åŠ åˆ°ç›®æ ‡ç½‘ç»œ
5. æ›´æ–°æ–‡æ¡£

---

**æ³¨æ„**ï¼šéƒ¨ç½²åˆ°ä¸»ç½‘æ¶‰åŠçœŸå®èµ„é‡‘ï¼Œè¯·è°¨æ…æ“ä½œå¹¶ç¡®ä¿å……åˆ†æµ‹è¯•ã€‚